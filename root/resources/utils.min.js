//Utils.js https://github.com/Pecacheu/Utils.js GNU GPL v3.0 -- Minified with javascript-minifier.com
"use strict";const utils={VER:"v8.4.8"};function UtilRect(t,e,n,i){if(!(this instanceof UtilRect))return new UtilRect(t,e,n,i);const s=Number.isFinite;let l=0,o=0,r=0,u=0;utils.define(this,["top","y"],()=>l,t=>{l=s(t)&&t<=o?t:l}),utils.define(this,["bottom","y2"],()=>o,t=>{o=s(t)&&t>=l?t:o}),utils.define(this,["left","x"],()=>r,t=>{r=s(t)&&t<=u?t:r}),utils.define(this,["right","x2"],()=>u,t=>{u=s(t)&&t>=r?t:u}),utils.define(this,"width",()=>u-r,t=>{u=t>=0?r+t:u}),utils.define(this,"height",()=>o-l,t=>{o=t>=0?l+t:o}),utils.define(this,"centerX",()=>r/2+u/2),utils.define(this,"centerY",()=>l/2+o/2),t instanceof ClientRect||t instanceof UtilRect?(l=t.top,o=t.bottom,r=t.left,u=t.right):(this.y=t,this.y2=e,this.x=n,this.x2=i)}window.ClientRect||(window.ClientRect=DOMRect),UtilRect.prototype.contains=function(t,e){return t instanceof Element?this.contains(t.boundingRect):t instanceof UtilRect?t.x>=this.x&&t.x2<=this.x2&&t.y>=this.y&&t.y2<=this.y2:t>=this.x&&t<=this.x2&&e>=this.y&&e<=this.y2},UtilRect.prototype.overlaps=function(t){if(t instanceof Element)return this.overlaps(t.boundingRect);if(!(t instanceof UtilRect))return 0;let e,n;return e=t.x2-t.x>=this.x2-this.x?this.x>=t.x&&this.x<=t.x2||this.x2>=t.x&&this.x2<=t.x2:t.x>=this.x&&t.x<=this.x2||t.x2>=this.x&&t.x2<=this.x2,n=t.y2-t.y>=this.y2-this.y?this.y>=t.y&&this.y<=t.y2||this.y2>=t.y&&this.y2<=t.y2:t.y>=this.y&&t.y<=this.y2||t.y2>=this.y&&t.y2<=this.y2,e&&n},UtilRect.prototype.dist=function(t,e){if(t instanceof Element)return this.dist(t.boundingRect);let n=t instanceof UtilRect;return e=Math.abs((n?t.centerY:e)-this.centerY),t=Math.abs((n?t.centerX:t)-this.centerX),Math.sqrt(t*t+e*e)},UtilRect.prototype.expand=function(t){return this.top-=t,this.left-=t,this.bottom+=t,this.right+=t,this},window.TouchList&&(TouchList.prototype.get=function(t){for(let e in this)if(this[e].identifier==t)return this[e];return 0}),function(){utils.setCookie=function(t,e,n,i){let s=encodeURIComponent(t)+"="+(null==e?"":encodeURIComponent(e));null!=n&&(n instanceof Date||(n=new Date(n)),s+=";expires="+n.toUTCString()),i&&(s+=";secure"),document.cookie=s},utils.remCookie=function(t){document.cookie=encodeURIComponent(t)+"=;expires="+new Date(0).toUTCString()},utils.getCookie=function(t){const e=encodeURIComponent(t),n=" "+e,i=document.cookie.split(";");for(let t,s,l,o=0,r=i.length;o<r;o++)if(s=(t=i[o]).indexOf("="),(l=t.substr(0,s))==e||l==n)return decodeURIComponent(t.substr(s+1));return null},Function.prototype.wrap=function(){const t=this,e=arguments;return()=>t.apply(arguments,e)},utils.copy=function(t,e){if(!t||"object"!=typeof t)return t;const n={},i=Object.keys(t);for(let s,l=0,o=i.length;l<o;l++)n[s=i[l]]=null==e||e?t[s]:utils.copy(t[s],e-1);return n},utils.deviceInfo=function(t){t||(t=navigator.userAgent);const e={};if(!t.startsWith("Mozilla/5.0 "))return e;let n=t.indexOf(")"),i=t.indexOf(" ",n+2),s=t.indexOf(")",i+1);s=-1==s?i+1:s+2;let l=e.rawOS=t.substring(13,n);if(l.startsWith("Windows NT ")){e.os="Windows";let t=l.indexOf(";",12),n=l.indexOf(";",t+1)+2,i=l.indexOf(";",n);e.type=l.substring(n,-1==i?void 0:i)+" PC",e.version=l.substring(11,t).replace(/.0$/,"")}else if(l.startsWith("Linux; Android ")){e.os="Android";let t=l.indexOf(";",16),n=l.indexOf(" Build",t+3);e.type=l.substring(t+2,-1==n?void 0:n),e.version=l.substring(15,t).replace(/.0$/,"")}else if(l.startsWith("iPhone; CPU iPhone OS "))e.os="iOS",e.type="iPhone",e.version=l.substring(22,l.indexOf(" ",23)).replace(/_/g,".");else if(l.startsWith("Macintosh; Intel Mac OS X "))e.os="MacOS",e.type="Macintosh",e.version=l.substr(26).replace(/_/g,".");else if(l.startsWith("X11; ")){let t=l.indexOf(";",6),n=l.indexOf(";",t+3);e.os="Linux "+l.substring(5,t),e.type=l.substring(t+2,n),e.version=l.substr(n+5)}return e.engine=t.substring(n+2,i),e.browser=t.substring(s),e.mobile=!!t.match(/Mobi/i),e},utils.device=utils.deviceInfo(),utils.mobile="orientation"in window||utils.device.mobile,utils.skinnedInput=function(t){const e=utils.mkDiv(null,t.className),n=t.style,i=t.type;if(t.className+=" isSub","datetime-local"==i||"select-one"==i||"select-multiple"==i){n.opacity=0,n.top="-100%",t.siT=utils.mkEl("span",e,"isText"),utils.mkEl("span",e,"isArrow",{borderTopColor:getComputedStyle(t).color});let i=function(){switch(this.type){case"datetime-local":this.siT.textContent=utils.formatDate(utils.fromDateTimeBox(this));break;case"select-one":this.siT.textContent=function(t){const e=t.options;return-1!=e.selectedIndex?e[e.selectedIndex].label:"No Options Selected"}(this);break;case"select-multiple":this.siT.textContent=function(t){const e=t.options;let n="";for(let t=0,i=e.length;t<i;t++)e[t].selected&&(n+=(n?", ":"")+e[t].label);return n||"No Options Selected"}(this)}}.bind(t);t.addEventListener("change",i),t.forceUpdate=i,i()}t.replaceWith(e),e.appendChild(t),document.isStyles||(document.isStyles=!0,utils.mkEl("style",document.body,null,null,".isSub {\t\twidth:100% !important; height:100% !important; border:none !important; display:inline-block !important;\t\tposition:relative !important; box-shadow:none !important; margin:0 !important; padding:initial !important;\t}\t.isText {\t\tdisplay:inline-block; height:100%; max-width:95%;\t\toverflow:hidden; text-overflow:ellipsis; white-space:nowrap;\t}\t.isArrow {\t\twidth:0; height:0; display:inline-block; float:right; top:38%; position:relative;\t\tborder-left:3px solid transparent; border-right:3px solid transparent;\t\tborder-top:6px solid #000; vertical-align:middle;\t}"))},utils.numField=function(t,e,n,i){return null==e&&(e=-2147483648),null==n&&(n=2147483647),t.setAttribute("pattern","\\d*"),t.type=utils.mobile||i?"tel":"number",t.ns=t.value=(t.num=Number(t.value)||0).toString(),t.addEventListener("keydown",s=>{let l=s.key,o=1==l.length?Number(l):null,r=t.ns.startsWith("-")?t.num!=e:t.num!=n,u=t.ns,a=t.ns.length,c=t.ns.indexOf(".");o||0==o?(-1==c||a-c<i+1)&&(t.ns+=l):i&&r&&("."==l||"*"==l)&&-1==c?t.ns+=".":"Backspace"==l||"Delete"==l?t.ns=t.ns.substr(0,a-1):e<0&&("-"==l||"#"==l)&&!a?t.ns="-":"ArrowUp"==l?t.ns=(t.num+(t.step||1)).toString():"ArrowDown"==l&&(t.ns=(t.num-(t.step||1)).toString()),a=t.ns.length,-1!=(c=t.ns.indexOf("."))&&a-c>i+1&&(a=(t.ns=t.ns.substr(0,c+i+1)).length);let d=Number(t.ns)||0;d>n?(d=n,t.ns=d.toString()):d<e&&(d=e,t.ns=d.toString());let f=t.num,h=t.ns.startsWith("-");t.num=d,t.onnuminput&&!1===t.onnuminput(d)?(t.ns=u,t.num=f):t.value=(h&&!d?"-":"")+d+(-1!=c&&d%1==0?".0":""),s.preventDefault()}),t.addEventListener("input",()=>{t.set(t.value)}),t.set=(s=>{let l,o;"string"==typeof s&&(l=s.endsWith(".")&&i,o="0-"==s&&e<0),s=Number(s)||0,i||(s=Math.floor(s)),s>n&&(s=n),s<e&&(s=e),t.value=o?"-0":(t.num=s)+(l?".0":""),t.ns=o?"-":s+(l?".":""),t.onnuminput&&t.onnuminput(s)}),t},utils.costField=function(t,e){return e||(e="$"),t.setAttribute("pattern","\\d*"),t.type="tel",t.value=utils.formatCost(t.num=Number(t.value)||0,e),t.ns=t.num.toString(),t.addEventListener("keydown",n=>{let i=n.key,s=1==i.length?Number(i):null,l=t.ns.length,o=t.ns,r=t.ns.indexOf(".");s||0==s?(-1==r||l-r<3)&&(t.ns+=i):"."!=i&&"*"!=i||-1!=r?"Backspace"==i||"Delete"==i?t.ns=t.ns.substr(0,l-1):"ArrowUp"==i?t.ns=(t.num+1).toString():"ArrowDown"==i&&t.num>=1&&(t.ns=(t.num-1).toString()):(t.ns+=".",r=l);let u=Number(t.ns)||0;u||-1!=r||(t.ns="");let a=t.num;t.num=u,t.onnuminput&&!1===t.onnuminput(u)?(t.ns=o,t.num=a):t.value=utils.formatCost(u,e),n.preventDefault()}),t.addEventListener("input",()=>{t.set(t.value)}),t.set=(n=>{let i;"string"==typeof n&&((i=n.endsWith("."))&&(n=n.substr(0,n.length-1)),n.startsWith(e)&&(n=n.substr(e.length))),t.num=n=Math.floor(100*(Number(n)||0))/100,t.value=utils.formatCost(n,e),t.ns=n+(i?".":""),t.onnuminput&&t.onnuminput(n)}),t},utils.formatCost=function(t,e){if(e||(e="$"),!t)return e+"0.00";const n=t.toFixed(2).split(".");return e+n[0].split("").reverse().reduce((t,e,n)=>"-"==e?e+t:e+(!n||n%3?"":",")+t,"")+"."+n[1]},utils.fromDateTimeBox=function(t){const e=t.value;return e?new Date(e.replace(/-/g,"/").replace(/T/g," ")):new Date},utils.toDateTimeBox=function(t,n){return t.getFullYear()+"-"+e(t.getMonth()+1)+"-"+e(t.getDate())+"T"+e(t.getHours())+":"+e(t.getMinutes())+(n?":"+e(t.getSeconds()):"")};const t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function e(t){return t<=9?"0"+t:t}function n(t){utils.onNav&&utils.onNav.call(null,t)}function i(t,e){for(;t>=e;)t-=e;return t}function s(){const t=document.styleSheets;for(let e=0,n=t.length;e<n;e++)try{return t[e].rules,t[e]}catch(t){}let e=utils.mkEl("style",document.head);return e.appendChild(document.createTextNode("")),e.sheet}function l(t){return t.replace(/[A-Z]/g,t=>"-"+t.toLowerCase())}utils.formatDate=function(n){if(null==n||!n.getDate||!n.getFullYear())return"Invalid Date";const i=n.getMinutes(),s=n.getMonth(),l=n.getDate(),o=n.getFullYear();let r=n.getHours(),u=!1;return r>=12&&(u=!0,r-=12),0==r&&(r=12),r+":"+e(i)+" "+(u?"PM":"AM")+" "+t[s]+" "+utils.suffix(l)+", "+o},utils.suffix=function(t){let e=t%10,n=t%100;return 1==e&&11!=n?t+"st":2==e&&12!=n?t+"nd":3==e&&13!=n?t+"rd":t+"th"},utils.goBack=function(){history.back()},utils.goForward=function(){history.forward()},utils.go=function(t,e){history.pushState(e,"",t||location.pathname),n(e)},window.addEventListener("popstate",t=>n(t.state)),window.addEventListener("load",()=>setTimeout(n.wrap(history.state),1)),utils.mkEl=function(t,e,n,i,s){const l=document.createElement(t);if(null!=n&&(l.className=n),null!=s&&(l.innerHTML=s),null!=i&&"object"==typeof i){const t=Object.keys(i),e=t.length;for(let n=0;n<e;n++)l.style[t[n]]=i[t[n]]}return null!=e&&e.appendChild(l),l},utils.mkDiv=function(t,e,n,i){return utils.mkEl("div",t,e,n,i)},utils.addText=function(t,e){t.appendChild(document.createTextNode(e))},utils.textWidth=function(t,e){const n=(window.textWidthCanvas||(window.textWidthCanvas=document.createElement("canvas"))).getContext("2d");return n.font=e,n.measureText(t).width},utils.define=function(t,e,n,i){const s={};if(n&&(s.get=n),i&&(s.set=i),Array.isArray(e))for(let n=0,i=e.length;n<i;n++)Object.defineProperty(t,e[n],s);else Object.defineProperty(t,e,s)},utils.define(utils,"w",()=>window.innerWidth),utils.define(utils,"h",()=>window.innerHeight),Array.prototype.clean=function(t){for(let e,n=0,i=this.length;n<i;n++)e=this[n],(utils.isBlank(e)||!1===e||!t&&0===e)&&(this.splice(n,1),n--,i--);return this},Array.prototype.remove=function(t){const e=this.indexOf(t);return-1!=e&&(this.splice(e,1),!0)},utils.define(Element.prototype,"index",function(){const t=this.parentElement;return t?Array.prototype.indexOf.call(t.children,this):-1}),Element.prototype.insertChildAt=function(t,e){e<0&&(e=0),e>=this.children.length?this.appendChild(t):this.insertBefore(t,this.children[e])},utils.boundingRect=(t=>new UtilRect(t.getBoundingClientRect())),utils.define(Element.prototype,"boundingRect",function(){return utils.boundingRect(this)}),Math.cot=function(t){return 1/Math.tan(t)},utils.isBlank=function(t){return null==t||("string"==typeof t?!/\S/.test(t):"object"==typeof t&&("number"==typeof t.length?0===t.length:0===Object.keys(t).length))},utils.firstEmpty=function(t){const e=t.length;for(let n=0;n<e;n++)if(null==t[n])return n;return e},utils.firstEmptyChar=function(t){const e=Object.keys(t),n=e.length;for(let i=0;i<n;i++)if(null==t[e[i]])return e[i];return utils.numToChar(n)},utils.numToChar=function(t){if(t<=25)return String.fromCharCode(t+97);if(t>=26&&t<=51)return String.fromCharCode(t+39);let e,n;if(t<2756)e=i(Math.floor(t/52)-1,52),n=i(t,52);else if(t<143364)e=i(Math.floor((t-52)/2704)-1,52),n=i(t-52,2704)+52;else{if(!(t<7454980))return!1;e=i(Math.floor((t-2756)/140608)-1,52),n=i(t-2756,140608)+2756}return utils.numToChar(e)+utils.numToChar(n)},utils.merge=function(t){for(let e,n,i,s=1,l=arguments.length;s<l;s++){e=arguments[s];for(let s in e){if(n=t[s],i=e[s],n&&i){if(n.length>=0&&i.length>=0){for(let t=0,e=i.length,s=n.length;t<e;t++)n[t+s]=i[t];continue}if("object"==typeof n&&"object"==typeof i){for(let t in i)n[t]=i[t];continue}}t[s]=i}}return t},utils.bounds=function(t,e=0,n=1){return t>=e?t<=n?t:n:e},utils.norm=utils.normalize=function(t,e=0,n=1){const i=Math.abs(n-e);if(t<e)for(;t<e;)t+=i;else for(;t>=n;)t-=i;return t},utils.cutStr=function(t,e){let n;for(;-1!=(n=t.indexOf(e));)t=t.slice(0,n)+t.slice(n+e.length);return t},utils.dCut=function(t,e,n,i,s){let l=t.indexOf(e,s||void 0)+e.length,o=t.indexOf(n,l);return i&&(i.s=l,i.t=o),l<e.length||o<=l?"":t.substring(l,o)},utils.dCutToLast=function(t,e,n,i,s){let l=t.indexOf(e,s||void 0)+e.length,o=t.lastIndexOf(n);return i&&(i.s=l,i.t=o),l<e.length||o<=l?"":t.substring(l,o)},utils.dCutLast=function(t,e,n,i,s){let l=t.lastIndexOf(e,s||void 0)+e.length,o=t.indexOf(n,l);return i&&(i.s=l,i.t=o),l<e.length||o<=l?"":t.substring(l,o)},String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/gm,"")}),utils.parseCSS=function(t){const e={},n="",i=0;function s(t){if(-1!==t.indexOf(",")){const e=utils.clean(t.split(","));for(let t=0,n=e.length;t<n;t++)e[t]=e[t].trim();return e}return t.trim()}for(t=t.trim();t.length>0;)if("("==t[0]&&-1!==t.indexOf(")")&&n){let i=t.indexOf(")"),l=t.substring(1,i);e[n]=s(l),n="",t=t.substring(i+1)}else if(0==t.search(/[#!\w]/)){n&&(e[i]=n,i++);let s=t.search(/[^#!\w-%]/);-1==s&&(s=t.length),n=t.substring(0,s),t=t.substring(s)}else t=t.substring(1);return n&&(e[i]=n),e},utils.buildCSS=function(t){const e=Object.keys(t),n=e.length;let i="",s=0;for(;s<n;){const n=e[s],l=t[e[s]];s++,0<=Number(n)?i+=l+" ":i+=n+"("+l+") "}return i.substring(0,i.length-1)},utils.addClass=function(t,e){const n=s(),i=Object.keys(e);let o="";for(let t=0,n=i.length;t<n;t++)o+=l(i[t])+":"+e[i[t]]+";";n.addRule("."+t,o)},utils.addId=function(t,e){const n=s(),i=Object.keys(e);let o="";for(let t=0,n=i.length;t<n;t++)o+=l(i[t])+":"+e[i[t]]+";";n.addRule("#"+t,o)},utils.addKeyframe=function(t,e){s().addRule("@keyframes "+t,e)},utils.removeSelector=function(t){for(let e,n,i=0,s=document.styleSheets.length;i<s;i++){e=document.styleSheets[i];try{n=e.rules}catch(t){continue}for(let i in n)1==n[i].type&&n[i].selectorText==t&&e.removeRule(i)}},utils.getId=function(t,e){return(e||document).getElementById(t)},utils.getClassList=function(t,e){return(e||document).getElementsByClassName(t)},utils.getClassFirst=function(t,e){return(t=utils.getClassList(t,e)).length>0?t[0]:0},utils.getClassOnly=function(t,e){return 1==(t=utils.getClassList(t,e)).length?t[0]:0},utils.hexToRgb=function(t){const e=parseInt(t.substr(1),16);return[e>>16&255,e>>8&255,255&e]},utils.rand=function(t,e,n,i){e*=n=n||1,t*=n;let s=Math.random();return Math.round((i?i(s):s)*(e-t)+t)/n},utils.fromQuery=function(t){return t.startsWith("?")&&(t=t.substr(1)),0==t.length?{}:function t(e,n){const i=n[0],s=i.indexOf("="),l=decodeURIComponent(i.substr(0,s)),o=decodeURIComponent(i.substr(s+1));return null==e[l]?e[l]=o:"array"==typeof e[l]?e[l].push(o):e[l]=[e[l],o],1==n.length?e:t(e,n.slice(1))}({},t.split("&"))},utils.toQuery=function(t){let e="";if("object"!=typeof t)return encodeURIComponent(t);for(let n in t){let i=t[n];"object"==typeof i&&(i=JSON.stringify(i)),e+="&"+n+"="+encodeURIComponent(i)}return e.slice(1)},utils.center=function(t,e,n){if(t.style.position||(t.style.position="absolute"),"calc"==n)e&&"x"!=e||(t.style.left="calc(50% - "+t.clientWidth/2+"px)"),e&&"y"!=e||(t.style.top="calc(50% - "+t.clientHeight/2+"px)");else if("move"==n)e&&"x"!=e||(t.style.left=utils.w/2-t.clientWidth/2+"px"),e&&"y"!=e||(t.style.top=utils.h/2-t.clientHeight/2+"px");else if("trans"==n){let n=utils.cutStr(t.style.transform,"translateX(-50%)");n=utils.cutStr(n,"translateY(-50%)"),e&&"x"!=e||(t.style.left="50%",n+="translateX(-50%)"),e&&"y"!=e||(t.style.top="50%",n+="translateY(-50%)"),n&&(t.style.transform=n)}else{let n=document.createElement("div");t.parentNode.appendChild(n),n.style.display="table",n.style.position="absolute",n.style.top=0,n.style.left=0,n.style.width="100%",n.style.height="100%",t.parentNode.removeChild(t),n.appendChild(t),t.style.display="table-cell",e&&"x"!=e||(t.style.textAlign="center"),e&&"y"!=e||(t.style.verticalAlign="middle"),t.style.position="relative"}},utils.loadAjax=function(t,e,n,i,s){let l;try{l=new XMLHttpRequest}catch(t){return e(t)}if(s)for(let t in s)l.setRequestHeader(t,s[t]);l.open(n||"GET",t),l.onreadystatechange=(()=>{let t=l.status||-1;l.readyState==l.DONE&&e(200==t?0:t,l.response,l)}),l.send(i||void 0)},utils.loadFile=function(t,e,n){const i=document.createElement("object");i.data=t,i.style.position="fixed",i.style.opacity=0;let s=setTimeout(()=>{i.remove(),s=null,e(!1)},n||4e3);i.onload=(()=>{s&&(clearTimeout(s),e(i.contentDocument.documentElement.outerHTML),i.remove())}),document.body.appendChild(i)},utils.loadJSONP=function(t,e,n){const i=document.createElement("script"),s=utils.firstEmptyChar(utils.lJSONCall);i.type="application/javascript",i.src=t+(-1==t.indexOf("?")?"?":"&")+"callback=utils.lJSONCall."+s;let l=setTimeout(()=>{delete utils.lJSONCall[s],e(!1)},n||4e3);utils.lJSONCall[s]=(t=>{l&&clearTimeout(l),delete utils.lJSONCall[s],e(t)}),document.head.appendChild(i),document.head.removeChild(i)},utils.lJSONCall=[],utils.dlFile=function(t,e){return fetch(e).then(t=>{if(200!=t.status)throw"Code "+t.status;return t.blob()}).then(e=>{utils.dlData(t,e)})},utils.dlData=function(t,e){let n,i=utils.mkEl("a",document.body,null,{display:"none"});"string"==typeof e?n=e:(e instanceof Blob||(e=Blob(e)),n=URL.createObjectURL(e)),i.href=n,i.download=t,i.click(),i.remove(),URL.revokeObjectURL(n)},utils.deg=function(t){return 180*t/Math.PI},utils.rad=function(t){return t*Math.PI/180},utils.map=function(t,e,n,i,s,l){let o=(t-e)/(n-e);return(l?l(o):o)*(s-i)+i}}();const Easing={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>t*(2-t),easeInOutQuad:t=>t<.5?2*t*t:(4-2*t)*t-1,easeInCubic:t=>t*t*t,easeOutCubic:t=>--t*t*t+1,easeInOutCubic:t=>t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1- --t*t*t*t,easeInOutQuart:t=>t<.5?8*t*t*t*t:1-8*--t*t*t*t,easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>1+--t*t*t*t*t,easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t};